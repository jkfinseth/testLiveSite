(this.webpackJsonppersonalproject=this.webpackJsonppersonalproject||[]).push([[0],{115:function(e,t){},211:function(e,t,s){},216:function(e,t){},217:function(e,t){},218:function(e,t,s){},219:function(e,t,s){},220:function(e,t,s){},221:function(e,t,s){},289:function(e,t){},788:function(e,t){},790:function(e,t){},799:function(e,t){},801:function(e,t){},828:function(e,t){},830:function(e,t){},831:function(e,t){},836:function(e,t){},838:function(e,t){},844:function(e,t){},846:function(e,t){},865:function(e,t){},877:function(e,t){},880:function(e,t){},920:function(e,t,s){},921:function(e,t,s){"use strict";s.r(t);var n=s(8),c=s.n(n),a=s(205),o=s.n(a),i=(s(211),s(10)),r=s(7),l=function(e){var t=e.setImageURL,s=e.imageURL;return Object(r.jsxs)("div",{className:"imageInput",children:[Object(r.jsx)("label",{for:"file",children:"Chose image URL to upload: "}),Object(r.jsx)("input",{type:"text",value:s,onChange:function(e){return t(e.target.value)}})]})},j=function(e){var t=e.label,s=e.setter,n=e.set;return Object(r.jsxs)("div",{className:"CheckBox",children:[Object(r.jsxs)("label",{for:"checkbox",children:[" ",t," "]}),n?Object(r.jsx)("input",{type:"checkbox",id:"checkbox",name:"checkbox",onChange:function(){s(!n)},checked:!0}):Object(r.jsx)("input",{type:"checkbox",id:"checkbox",name:"checkbox",onChange:function(){s(!n)}})]})},u=function(e){e.limitLength;var t=e.setter,s=e.messageContents;return Object(r.jsxs)("div",{className:"MessageBox",children:[Object(r.jsx)("label",{for:"message",children:" Message: "}),Object(r.jsx)("input",{type:"text",value:s,id:"message",name:"message",onChange:function(e){return t(e.target.value)}})]})},b=s(112),d=function(e){var t=e.setter;return Object(r.jsx)("div",{children:Object(r.jsx)("input",{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:function(e){!function(e){new Promise((function(t,s){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var s=e.target.result,n=b.read(s,{type:"buffer"}),c=n.SheetNames[0],a=n.Sheets[c],o=b.utils.sheet_to_json(a);t(o)},n.onerror=function(e){s(e)}})).then((function(e){for(var s=[],n=0;n<e.length;n++)s.push({FirstName:e[n].FirstName,LastName:e[n].LastName,PrimaryPhone:e[n].CellPhone});t(s)}))}(e.target.files[0])}})})},O=(s(218),s(219),function(e){var t=e.user,s=e.setUser,c=e.setDisplayState,a=e.setIsListSplit,o=Object(n.useState)(!0),l=Object(i.a)(o,2),u=l[0],b=l[1];Object(n.useEffect)((function(){console.log(localStorage.getItem("progchamp"));var e=JSON.parse(localStorage.getItem("progchamp"));null!==e&&""!==e&&d(e.username)}),[]);var d=function(e){switch(function(e,t){if(u){var s={username:e};localStorage.setItem("progchamp",JSON.stringify(s))}else localStorage.removeItem("progchamp")}(e),e){case"justin":return s("justin"),c(999),void a(!1);case"eric":return s("eric"),c(999),void a(!1);case"omar":return s("omar"),c(999),void a(!1);default:return void s("")}};return Object(r.jsx)("div",{className:"page",children:Object(r.jsxs)("div",{className:"loginPage",children:[Object(r.jsxs)("div",{className:"usernameInput",children:[Object(r.jsx)("label",{children:" Username: "}),Object(r.jsx)("input",{onChange:function(e){return s(e.target.value)}})]}),Object(r.jsx)(j,{label:"Stay Logged in: ",setter:b,set:u}),Object(r.jsx)("button",{onClick:function(){d(t)},children:" Submit "})]})})}),g=(s(220),function(e){var t=e.longMessage,s=e.setMessageContents,c=(e.setLongMessage,e.displayImageInput),a=e.setImageURL,o=e.imageURL,b=e.setDisplayImageInput,d=e.messageContents,O=e.setDisplayState,g=Object(n.useState)(0),S=Object(i.a)(g,2),m=S[0],h=(S[1],JSON.parse(localStorage.getItem("currentJob"))),f="message"+(null===h||void 0===h?void 0:h.selectedJob),p=Object(n.useState)(!0),v=Object(i.a)(p,2),x=v[0],N=v[1],L=Object(n.useState)(0),_=Object(i.a)(L,2),P=_[0],C=_[1];Object(n.useEffect)((function(){if(console.log("Hello World Use Effect"),null===h||""===h)N(!1);else{console.log("not broken 1");var e=JSON.parse(localStorage.getItem(f));console.log("not broken 2"),null!==e&&""!==e&&(s(e.message),""!==e.imageURL&&a(e.imageURL),C(1),setTimeout((function(){return C(0)}),1)),console.log("Refresh: ",P)}}),[]);return 0===P?Object(r.jsx)("div",{className:"page",children:x?Object(r.jsxs)("div",{className:"MessageInputs",children:[Object(r.jsx)(u,{limitLength:t,setter:s,messageContents:d}),c?Object(r.jsx)(l,{setImageURL:a,imageURL:o}):Object(r.jsx)("div",{}),Object(r.jsx)(j,{label:"Send Image",setter:b,set:c}),Object(r.jsx)("button",{onClick:function(){return function(){var e={message:d,imageURL:""};null!==o&&""!==o&&(e.imageURL=o),localStorage.setItem(f,JSON.stringify(e)),O(999)}()},children:" Save "}),1===m?Object(r.jsx)("h3",{children:" Message Saved"}):Object(r.jsx)("div",{})]}):Object(r.jsx)("h3",{children:" No Job is Selected"})}):Object(r.jsx)("div",{})}),S=(s(221),function(e){var t=e.name,s=e.setDisplay;return Object(r.jsxs)("div",{className:"HeaderBar",children:[Object(r.jsxs)("div",{className:"selectable",children:[Object(r.jsx)("button",{onClick:function(){s(5)},children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:"Select Job"})})}),Object(r.jsx)("button",{onClick:function(){s(2)},children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:"Edit Message"})})}),Object(r.jsx)("button",{onClick:function(){s(6)},children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:"Upload Spreadsheet"})})}),Object(r.jsx)("button",{onClick:function(){return s(3)},children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:"Send Messages"})})}),Object(r.jsx)("button",{onClick:function(){s(7)},children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:"Job Settings"})})}),Object(r.jsx)("button",{children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:"Manage Users"})})})]}),Object(r.jsx)("button",{onClick:function(){return localStorage.removeItem("progchamp"),void s(1)},children:Object(r.jsx)("div",{className:"buttonBackground",children:Object(r.jsx)("h3",{children:t})})})]})}),m=s(59),h=s.n(m),f=s(206),p=s(60),v=s.n(p),x=function(e){var t=e.list,c=(e.displayLoaded,e.setDisplayState),a=(e.messageList,e.setList),o=Object(n.useState)(0),l=Object(i.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(!1),d=Object(i.a)(b,2),O=d[0],g=d[1],S=Object(n.useState)(!1),m=Object(i.a)(S,2),p=m[0],x=m[1],N=Object(n.useState)(""),L=Object(i.a)(N,2),_=(L[0],L[1],s(241)),P=(new(s(244))(Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAccountSid,Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAuthToken),JSON.parse(localStorage.getItem("currentJob"))),C="",T="",E="";null!==P&&""!==P&&(C=JSON.parse(localStorage.getItem("settings"+P.selectedJob)),T=JSON.parse(localStorage.getItem("message"+P.selectedJob)),E=JSON.parse(localStorage.getItem(P.selectedJob)));var y=Object(n.useState)(0),I=Object(i.a)(y,2),J=I[0],k=I[1],D=Object(n.useState)(0),R=Object(i.a)(D,2),U=(R[0],R[1],Object(n.useState)([])),K=Object(i.a)(U,2),A=K[0],W=K[1],F=Object(n.useState)(!0),H=Object(i.a)(F,2),M=H[0],B=H[1],w=Object(n.useState)(0),V=Object(i.a)(w,2),X=(V[0],V[1],Object(n.useState)("")),Y=Object(i.a)(X,2);Y[0],Y[1];console.log(C);var q=Object(n.useState)(!1),z=Object(i.a)(q,2),G=z[0],Q=z[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("messagingList"));if(""!==e&&null!==e);else if(P){for(var t=[],s=0;s<C.assignedUsers;s++)t.push(s);W(t)}else B(!1)}),[]);var Z=function(e,t){return{start:0===t?0:E.length*t/e+1,end:E.length*(t+1)/e}},$=function(){var e=Object(f.a)(h.a.mark((function e(s,n){var o,i,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("entered"),o=!1,1!==t.PersonsList.length){e.next=8;break}if(console.log("one person left: checking"),!G){e.next=7;break}return Q(!1),e.abrupt("return");case 7:Q(!0);case 8:if(0,0!==n){e.next=11;break}return e.abrupt("return");case 11:if(!s){e.next=28;break}if(!p){e.next=16;break}x(!1),e.next=26;break;case 16:if(console.log("Remaining: ",t.PersonsList.length),console.log("+1"+t.PersonsList[t.PersonsList.length-1].PrimaryPhone),""===t.imageURL){e.next=23;break}return e.next=21,v.a.post("https://api.twilio.com/2010-04-01/Accounts/"+Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAccountSid+"/Messages.json",_.stringify({Body:T.message,MediaUrl:T.imageURL,From:"+17253739818",To:"+1"+t.PersonsList[t.PersonsList.length-1].PrimaryPhone}),{auth:{username:Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAccountSid,password:Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAuthToken}}).then((function(e){return console.log(e)})).catch((function(e){400!==e&&401!==e||console.log(e)}));case 21:e.next=25;break;case 23:return e.next=25,v.a.post("https://api.twilio.com/2010-04-01/Accounts/"+Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAccountSid+"/Messages.json",_.stringify({Body:T.message,From:"+17253739818",To:"+1"+t.PersonsList[t.PersonsList.length-1].PrimaryPhone}),{auth:{username:Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAccountSid,password:Object({NODE_ENV:"production",PUBLIC_URL:"/testLiveSite",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).mainAuthToken}}).then((function(e){return console.log(e)})).catch((function(e){400!==e&&401!==e||console.log(e)}));case 25:console.log("Message sent to ",t.PersonsList[t.PersonsList.length-1].FirstName);case 26:e.next=29;break;case 28:console.log("Message not sent");case 29:1===t.PersonsList.length?(c(4),o=!0):(i=t.PersonsList,i.pop()==i&&(o=!0),r={PersonsList:i},console.log(r),a(r)),o||$(s,n-1),console.log("setting sendMessage to false"),g(!1);case 33:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return M?0===J?Object(r.jsx)("div",{className:"page",children:Object(r.jsxs)("div",{className:"sectionSelection",children:[Object(r.jsx)("h3",{children:" Which part would you like to work on?"}),A.map((function(e){return Object(r.jsxs)("button",{onClick:function(){return function(e){var s=Z(C.assignedUsers,e);console.log(s),a({PersonsList:E.slice(s.start,s.end+1)}),setTimeout((function(){console.log(t),x(!1),k(1)}),500)}(e)},children:[" ",e," "]})}))]})}):null!==t?Object(r.jsx)("div",{className:"page",children:Object(r.jsxs)("div",{className:"SendMessage",children:[Object(r.jsx)("h2",{children:" Press page down to skip sending a message to the listed user. "}),Object(r.jsxs)("h2",{children:[" Would you like to message ",t.PersonsList[t.PersonsList.length-1].FirstName," ",t.PersonsList[t.PersonsList.length-1].LastName," ",C.messagesPerKeyPress>1?" and "+JSON.stringify(C.messagesPerKeyPress-1)+" more":null,"?"]}),Object(r.jsx)("button",{onClick:function(){(!O||j>=1)&&(console.log("setting sendMessage to true"),u(0),g(!0),$(!0,C.messagesPerKeyPress))},children:" Yes "}),Object(r.jsx)("button",{onClick:function(){(!O||j>=1)&&(u(0),console.log("setting sendMessage to true"),g(!0),$(!1,C.messagesPerKeyPress))},children:" No "}),Object(r.jsx)("input",{onKeyDown:function(e){console.log("Hello World")}}),Object(r.jsx)("button",{onClick:function(){localStorage.setItem("messagingList",JSON.stringify(t))},children:" Save "})]})}):Object(r.jsx)("div",{}):Object(r.jsxs)("div",{children:[" ",Object(r.jsx)("h3",{children:" No job is selected "})]})},N=(s(920),function(e){var t=e.setDisplayState,s=JSON.parse(localStorage.getItem("jobInfo")),c=Object(n.useState)(!1),a=Object(i.a)(c,2),o=a[0],l=a[1],j=Object(n.useState)(""),u=Object(i.a)(j,2),b=u[0],d=u[1];return console.log("availableJobs: ",s),Object(r.jsx)("div",{className:"SelectJob",children:null!==s?Object(r.jsxs)("div",{className:"JobAvailable",children:[Object(r.jsxs)("div",{className:"Selection",children:[Object(r.jsx)("label",{for:"Job",children:" Selected Job: "}),Object(r.jsxs)("select",{name:"Job",id:"Job",onChange:function(e){l(!1),d(e.target.value)},children:[Object(r.jsx)("option",{value:"",defaultValue:!0}),s.Jobs.map((function(e,t){return Object(r.jsxs)("option",{value:e.jobName,children:[" ",e.jobName," "]},t)}))]})]}),Object(r.jsx)("button",{onClick:function(){""!==b?(l(!1),console.log(b),localStorage.setItem("currentJob",JSON.stringify({selectedJob:b})),t(999)):l(!0)},children:" Save"}),o?Object(r.jsx)("div",{className:"ErrorMessageSelectJob",children:"No Job Is Selected"}):null]}):Object(r.jsx)("div",{children:" No jobs available "})})}),L=function(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),c=s[0],a=s[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(!1),O=Object(i.a)(b,2),g=O[0],S=O[1],m=Object(n.useState)(!1),h=Object(i.a)(m,2),f=h[0],p=h[1],v=e.setDisplayState;return Object(r.jsxs)("div",{className:"UploadeSpreadsheet",children:[Object(r.jsx)("h3",{children:" Spreadsheet Upload Specs: "}),Object(r.jsxs)("div",{className:"XLSUpsload",children:[Object(r.jsx)("label",{children:" Select a Spreadsheet: "}),Object(r.jsx)(d,{setter:a})]}),Object(r.jsxs)("div",{className:"JobNameSelect",children:[Object(r.jsx)("label",{for:"JobNameSelection",children:" Select Job Name: "}),Object(r.jsx)("input",{id:"JobNameSelection",onChange:function(e){return u(e.target.value)}})]}),Object(r.jsx)("button",{onClick:function(){return function(){if(p(!1),""!==j)if(null===JSON.parse(localStorage.getItem(j)))if(S(!1),null!==c&&""!==c){var e=JSON.parse(localStorage.getItem("jobInfo"));null===e&&(e={Jobs:[]}),e.Jobs.push({jobName:j}),localStorage.setItem(j,JSON.stringify(c)),localStorage.setItem("jobInfo",JSON.stringify(e)),localStorage.setItem("settings"+j,JSON.stringify({messagesPerKeyPress:1,assignedUsers:3,userList:["eric","justin","omar"]})),v(999)}else p(!0);else S(!0);else S(!0)}()},children:" Upload "}),g?Object(r.jsx)("div",{className:"errorMessage",children:"Name is not permitted"}):null,f?Object(r.jsx)("div",{className:"errorMessage",children:"No spreadsheet has been uploaded"}):null]})},_=function(e){var t=e.setDisplayState,s=Object(n.useState)(0),c=Object(i.a)(s,2),a=c[0],o=c[1],l=Object(n.useState)(0),j=Object(i.a)(l,2),u=j[0],b=j[1],d=Object(n.useState)(!0),O=Object(i.a)(d,2),g=O[0],S=O[1],m=Object(n.useState)({}),h=Object(i.a)(m,2),f=(h[0],h[1]),p="";Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentJob"));null===e||""===e?S(!1):(p=JSON.parse(localStorage.getItem("settings"+e.selectedJob)),f(p),o(p.messagesPerKeyPress),b(p.assignedUsers))}),[]);return g?Object(r.jsxs)("div",{className:"jobSettingsPage",children:[Object(r.jsxs)("div",{className:"inputsPerPress",children:[Object(r.jsx)("label",{children:" Messages sent per press: "}),Object(r.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)}})]}),Object(r.jsxs)("div",{className:"workers",children:[Object(r.jsx)("label",{children:" Number of users working on selected job:"}),Object(r.jsx)("input",{value:u,onChange:function(e){return b(e.target.value)}})]}),Object(r.jsx)("button",{onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("currentJob"));(p=JSON.parse(localStorage.getItem("settings"+e.selectedJob))).messagesPerKeyPress=a,p.assignedUsers=u,localStorage.setItem("settings"+e.selectedJob,JSON.stringify(p)),t(999)}()},children:"Update"})]}):Object(r.jsx)("h3",{children:" No Job is Selected "})},P=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),c=(s[0],s[1]),a=Object(n.useState)(999),o=Object(i.a)(a,2),l=o[0],j=o[1],u=Object(n.useState)(!1),b=Object(i.a)(u,2),d=b[0],m=b[1],h=Object(n.useState)(""),f=Object(i.a)(h,2),p=f[0],v=f[1],P=Object(n.useState)(!0),C=Object(i.a)(P,2),T=C[0],E=C[1],y=Object(n.useState)(""),I=Object(i.a)(y,2),J=I[0],k=I[1],D=Object(n.useState)(""),R=Object(i.a)(D,2),U=R[0],K=R[1],A=Object(n.useState)(""),W=Object(i.a)(A,2),F=W[0],H=(W[1],Object(n.useState)(!1)),M=Object(i.a)(H,2),B=M[0],w=(M[1],Object(n.useState)(!0)),V=Object(i.a)(w,2),X=(V[0],V[1],Object(n.useState)("")),Y=Object(i.a)(X,2),q=Y[0],z=Y[1];if(console.log("Displaystate: ",l),0===l);else{if(1===l)return Object(r.jsx)(O,{user:U,setUser:K,setDisplayState:j,setIsListSplit:c});if(l>=2)return Object(r.jsxs)("div",{className:"FullSiteDisplay",children:[Object(r.jsx)(S,{name:U,setDisplay:j}),2===l?Object(r.jsx)(g,{longMessage:d,setMessageContents:v,setLongMessage:m,displayImageInput:T,setImageURL:z,imageURL:q,setDisplayImageInput:E,messageContents:p,setDisplayState:j}):3===l?Object(r.jsx)(x,{list:J,displayLoaded:B,setDisplayState:j,setList:k,messageList:F}):4===l?Object(r.jsx)("div",{className:"page",children:Object(r.jsxs)("div",{className:"finishBox",children:[Object(r.jsx)("h2",{children:"Done sending messages"}),Object(r.jsx)("button",{onClick:function(){return localStorage.removeItem("messagingList"),void j(999)},children:" Reset "})]})}):5===l?Object(r.jsx)(N,{setDisplayState:j}):6===l?Object(r.jsx)(L,{setDisplayState:j}):7===l?Object(r.jsx)(_,{setDisplayState:j}):Object(r.jsx)("div",{})]})}};var C=function(){return console.log("Hello World"),Object(r.jsx)(P,{})},T=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,922)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;s(e),n(e),c(e),a(e),o(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(C,{})}),document.getElementById("root")),T()}},[[921,1,2]]]);
//# sourceMappingURL=main.c9fce86f.chunk.js.map