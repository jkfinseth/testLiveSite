(this.webpackJsonppersonalproject=this.webpackJsonppersonalproject||[]).push([[0],{115:function(e,t){},211:function(e,t,s){},216:function(e,t){},217:function(e,t){},218:function(e,t,s){},219:function(e,t,s){},220:function(e,t,s){},288:function(e,t){},787:function(e,t){},789:function(e,t){},798:function(e,t){},800:function(e,t){},827:function(e,t){},829:function(e,t){},830:function(e,t){},835:function(e,t){},837:function(e,t){},843:function(e,t){},845:function(e,t){},864:function(e,t){},876:function(e,t){},879:function(e,t){},919:function(e,t,s){},920:function(e,t,s){"use strict";s.r(t);var n=s(8),c=s.n(n),a=s(205),o=s.n(a),i=(s(211),s(11)),l=s(7),r=function(e){var t=e.setImageURL,s=e.imageURL;return Object(l.jsxs)("div",{className:"imageInput",children:[Object(l.jsx)("label",{for:"file",children:"Chose image URL to upload: "}),Object(l.jsx)("input",{type:"text",value:s,onChange:function(e){return t(e.target.value)}})]})},j=function(e){var t=e.label,s=e.setter,n=e.set;return Object(l.jsxs)("div",{className:"CheckBox",children:[Object(l.jsxs)("label",{for:"checkbox",children:[" ",t," "]}),n?Object(l.jsx)("input",{type:"checkbox",id:"checkbox",name:"checkbox",onChange:function(){s(!n)},checked:!0}):Object(l.jsx)("input",{type:"checkbox",id:"checkbox",name:"checkbox",onChange:function(){s(!n)}})]})},b=function(e){var t=e.limitLength,s=e.setter,n=e.messageContents;return Object(l.jsxs)("div",{className:"MessageBox",children:[Object(l.jsx)("label",{for:"message",children:" Message: "}),Object(l.jsx)("input",{type:"text",value:n,id:"message",name:"message",maxLength:t?"":"160",onChange:function(e){return s(e.target.value)}})]})},u=s(112),d=function(e){var t=e.setter;return Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",onChange:function(e){!function(e){new Promise((function(t,s){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(e){var s=e.target.result,n=u.read(s,{type:"buffer"}),c=n.SheetNames[0],a=n.Sheets[c],o=u.utils.sheet_to_json(a);t(o)},n.onerror=function(e){s(e)}})).then((function(e){for(var s=[],n=0;n<e.length;n++)s.push({FirstName:e[n].FirstName,LastName:e[n].LastName,PrimaryPhone:e[n].CellPhone});t(s)}))}(e.target.files[0])}})})},g=(s(218),s(219),function(e){var t=e.longMessage,s=e.setMessageContents,c=e.setLongMessage,a=e.displayImageInput,o=e.setImageURL,u=e.imageURL,d=e.setDisplayImageInput,g=e.messageContents,O=Object(n.useState)(0),h=Object(i.a)(O,2),m=h[0],f=(h[1],JSON.parse(localStorage.getItem("currentJob"))),x="message"+(null===f||void 0===f?void 0:f.selectedJob),S=Object(n.useState)(!0),p=Object(i.a)(S,2),v=p[0],N=p[1],J=Object(n.useState)(0),L=Object(i.a)(J,2),y=L[0],k=L[1];Object(n.useEffect)((function(){if(null===f||""===f)N(!1);else{var e=JSON.parse(localStorage.getItem(x));null!==e&&""!==e&&(s(e.message),""!==e.imageURL&&o(e.imageURL),k(1),setTimeout((function(){return k(0)}),1))}}),[]);return 0===y?Object(l.jsx)("div",{className:"page",children:v?Object(l.jsxs)("div",{className:"MessageInputs",children:[Object(l.jsx)(b,{limitLength:t,setter:s,messageContents:g}),Object(l.jsx)(j,{label:"Message > 160 characters",setter:c,set:t}),a?Object(l.jsx)(r,{setImageURL:o,imageURL:u}):Object(l.jsx)("div",{}),Object(l.jsx)(j,{label:"Send Image",setter:d,set:a}),Object(l.jsx)("button",{onClick:function(){return function(){var e={message:g,imageURL:""};null!==u&&""!==u&&(e.imageURL=u),localStorage.setItem(x,JSON.stringify(e))}()},children:" Save "}),1===m?Object(l.jsx)("h3",{children:" Message Saved"}):Object(l.jsx)("div",{})]}):Object(l.jsx)("h3",{children:" No Job is Selected"})}):Object(l.jsx)("div",{})}),O=(s(220),function(e){var t=e.name,s=e.setDisplay;return Object(l.jsxs)("div",{className:"HeaderBar",children:[Object(l.jsxs)("div",{className:"selectable",children:[Object(l.jsx)("button",{onClick:function(){s(5)},children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:"Select Job"})})}),Object(l.jsx)("button",{onClick:function(){s(2)},children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:"Edit Message"})})}),Object(l.jsx)("button",{onClick:function(){s(6)},children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:"Upload Spreadsheet"})})}),Object(l.jsx)("button",{onClick:function(){return s(3)},children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:"Send Messages"})})}),Object(l.jsx)("button",{onClick:function(){s(7)},children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:"Job Settings"})})}),Object(l.jsx)("button",{children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:"Manage Users"})})})]}),Object(l.jsx)("button",{onClick:function(){return localStorage.removeItem("progchamp"),void s(1)},children:Object(l.jsx)("div",{className:"buttonBackground",children:Object(l.jsx)("h3",{children:t})})})]})}),h=s(59),m=s.n(h),f=s(206),x=s(60),S=s.n(x),p=function(e){var t=e.list,c=(e.displayLoaded,e.setDisplayState),a=(e.messageList,e.setList),o=Object(n.useState)(0),r=Object(i.a)(o,2),j=r[0],b=r[1],u=Object(n.useState)(!1),d=Object(i.a)(u,2),g=d[0],O=d[1],h=Object(n.useState)(!0),x=Object(i.a)(h,2),p=x[0],v=x[1],N=Object(n.useState)(""),J=Object(i.a)(N,2),L=(J[0],J[1],"AC328815b6f17c750d80bedcc36bb5f3ce"),y="90924da28b6854a695c34a12bac34e5a",k=s(240),I=(new(s(243))(L,y),JSON.parse(localStorage.getItem("currentJob"))),P="",C="";null!==I&&""!==I&&(P=JSON.parse(localStorage.getItem("settings"+I.selectedJob)),JSON.parse(localStorage.getItem("message"+I.selectedJob)),C=JSON.parse(localStorage.getItem(I.selectedJob)));var M=Object(n.useState)(0),U=Object(i.a)(M,2),R=U[0],w=U[1],D=Object(n.useState)(0),B=Object(i.a)(D,2),F=(B[0],B[1],Object(n.useState)([])),E=Object(i.a)(F,2),A=E[0],T=E[1],W=Object(n.useState)(!0),H=Object(i.a)(W,2),K=H[0],_=H[1],V=Object(n.useState)(0),X=Object(i.a)(V,2),Y=(X[0],X[1],Object(n.useState)("")),q=Object(i.a)(Y,2);q[0],q[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("messagingList"));if(""!==e&&null!==e);else if(I){for(var t=[],s=0;s<P.assignedUsers;s++)t.push(s);T(t)}else _(!1)}),[]);var z=function(e,t){return{start:0===t?0:C.length*t/e+1,end:C.length*(t+1)/e}},G=function(){var e=Object(f.a)(m.a.mark((function e(s){var n,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("entered"),!s){e.next=18;break}if(!p){e.next=6;break}v(!1),e.next=16;break;case 6:if(console.log("Remaining: ",t.PersonsList.length),console.log("+1"+t.PersonsList[t.PersonsList.length-1].PrimaryPhone),""===t.imageURL){e.next=13;break}return e.next=11,S.a.post("https://api.twilio.com/2010-04-01/Accounts/"+L+"/Messages.json",k.stringify({Body:t.message,MediaUrl:t.imageURL,From:"+17253739818",To:"+1"+t.PersonsList[t.PersonsList.length-1].PrimaryPhone}),{auth:{username:L,password:y}}).then((function(e){return console.log(e)})).catch((function(e){400!==e&&401!==e||console.log(e)}));case 11:e.next=15;break;case 13:return e.next=15,S.a.post("https://api.twilio.com/2010-04-01/Accounts/"+L+"/Messages.json",k.stringify({Body:t.message,From:"+17253739818",To:"+1"+t.PersonsList[t.PersonsList.length-1].PrimaryPhone}),{auth:{username:L,password:y}}).then((function(e){return console.log(e)})).catch((function(e){400!==e&&401!==e||console.log(e)}));case 15:console.log("Message sent to ",t.PersonsList[t.PersonsList.length-1].FirstName);case 16:e.next=19;break;case 18:console.log("Message not sent");case 19:1===t.PersonsList.length?c(4):((n=t.PersonsList).pop(),o={PersonsList:n},console.log(o),a(o)),console.log("setting sendMessage to false"),O(!1);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return K?0===R?Object(l.jsx)("div",{className:"page",children:Object(l.jsxs)("div",{className:"sectionSelection",children:[Object(l.jsx)("h3",{children:" Which part would you like to work on?"}),A.map((function(e){return Object(l.jsxs)("button",{onClick:function(){return function(e){var s=z(P.assignedUsers,e);console.log(s),a({PersonsList:C.slice(s.start,s.end+1)}),setTimeout((function(){console.log(t),v(!0),w(1)}),500)}(e)},children:[" ",e," "]})}))]})}):null!==t?Object(l.jsx)("div",{className:"page",children:Object(l.jsxs)("div",{className:"SendMessage",children:[Object(l.jsx)("h2",{children:" Press page down to skip sending a message to the listed user. "}),Object(l.jsxs)("h2",{children:[" Would you like to message ",t.PersonsList[t.PersonsList.length-1].FirstName," ",t.PersonsList[t.PersonsList.length-1].LastName,"?"]}),Object(l.jsx)("button",{onClick:function(){(!g||j>=1)&&(console.log("setting sendMessage to true"),b(0),O(!0),G(!0))},children:" Yes "}),Object(l.jsx)("button",{onClick:function(){(!g||j>=1)&&(b(0),console.log("setting sendMessage to true"),O(!0),G(!1))},children:" No "}),Object(l.jsx)("input",{onKeyDown:function(e){console.log("Hello World")}}),Object(l.jsx)("button",{onClick:function(){localStorage.setItem("messagingList",JSON.stringify(t))},children:" Save "})]})}):Object(l.jsx)("div",{}):Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("h3",{children:" No job is selected "})]})},v=(s(919),function(e){var t=e.setDisplayState,s=JSON.parse(localStorage.getItem("jobInfo")),c=Object(n.useState)(!1),a=Object(i.a)(c,2),o=a[0],r=a[1],j=Object(n.useState)(""),b=Object(i.a)(j,2),u=b[0],d=b[1];return console.log("availableJobs: ",s),Object(l.jsx)("div",{className:"SelectJob",children:null!==s?Object(l.jsxs)("div",{className:"JobAvailable",children:[Object(l.jsxs)("div",{className:"Selection",children:[Object(l.jsx)("label",{for:"Job",children:" Selected Job: "}),Object(l.jsxs)("select",{name:"Job",id:"Job",onChange:function(e){r(!1),d(e.target.value)},children:[Object(l.jsx)("option",{value:"",defaultValue:!0}),s.Jobs.map((function(e,t){return Object(l.jsxs)("option",{value:e.jobName,children:[" ",e.jobName," "]},t)}))]})]}),Object(l.jsx)("button",{onClick:function(){""!==u?(r(!1),console.log(u),localStorage.setItem("currentJob",JSON.stringify({selectedJob:u})),t(999)):r(!0)},children:" Save"}),o?Object(l.jsx)("div",{className:"ErrorMessageSelectJob",children:"No Job Is Selected"}):null]}):Object(l.jsx)("div",{children:" No jobs available "})})}),N=function(e){var t=Object(n.useState)(""),s=Object(i.a)(t,2),c=s[0],a=s[1],o=Object(n.useState)(""),r=Object(i.a)(o,2),j=r[0],b=r[1],u=Object(n.useState)(!1),g=Object(i.a)(u,2),O=g[0],h=g[1],m=Object(n.useState)(!1),f=Object(i.a)(m,2),x=f[0],S=f[1],p=e.setDisplayState;return Object(l.jsxs)("div",{className:"UploadeSpreadsheet",children:[Object(l.jsx)("h3",{children:" Spreadsheet Upload Specs: "}),Object(l.jsxs)("div",{className:"XLSUpsload",children:[Object(l.jsx)("label",{children:" Select a Spreadsheet: "}),Object(l.jsx)(d,{setter:a})]}),Object(l.jsxs)("div",{className:"JobNameSelect",children:[Object(l.jsx)("label",{for:"JobNameSelection",children:" Select Job Name: "}),Object(l.jsx)("input",{id:"JobNameSelection",onChange:function(e){return b(e.target.value)}})]}),Object(l.jsx)("button",{onClick:function(){return function(){if(S(!1),""!==j)if(null===JSON.parse(localStorage.getItem(j)))if(h(!1),null!==c&&""!==c){var e=JSON.parse(localStorage.getItem("jobInfo"));null===e&&(e={Jobs:[]}),e.Jobs.push({jobName:j}),localStorage.setItem(j,JSON.stringify(c)),localStorage.setItem("jobInfo",JSON.stringify(e)),localStorage.setItem("settings"+j,JSON.stringify({messagesPerKeyPress:1,assignedUsers:3,userList:["eric","justin","omar"]})),p(999)}else S(!0);else h(!0);else h(!0)}()},children:" Upload "}),O?Object(l.jsx)("div",{className:"errorMessage",children:"Name is not permitted"}):null,x?Object(l.jsx)("div",{className:"errorMessage",children:"No spreadsheet has been uploaded"}):null]})},J=function(e){var t=e.setDisplayState,s=Object(n.useState)(0),c=Object(i.a)(s,2),a=c[0],o=c[1],r=Object(n.useState)(0),j=Object(i.a)(r,2),b=j[0],u=j[1],d=Object(n.useState)(!0),g=Object(i.a)(d,2),O=g[0],h=g[1],m=Object(n.useState)({}),f=Object(i.a)(m,2),x=(f[0],f[1]),S="";Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("currentJob"));null===e||""===e?h(!1):(S=JSON.parse(localStorage.getItem("settings"+e.selectedJob)),x(S),o(S.messagesPerKeyPress),u(S.assignedUsers))}),[]);return O?Object(l.jsxs)("div",{className:"jobSettingsPage",children:[Object(l.jsxs)("div",{className:"inputsPerPress",children:[Object(l.jsx)("label",{children:" Messages sent per press: "}),Object(l.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)}})]}),Object(l.jsxs)("div",{className:"workers",children:[Object(l.jsx)("label",{children:" Number of users working on selected job:"}),Object(l.jsx)("input",{value:b,onChange:function(e){return u(e.target.value)}})]}),Object(l.jsx)("button",{onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("currentJob"));(S=JSON.parse(localStorage.getItem("settings"+e.selectedJob))).messagesPerKeyPress=a,S.assignedUsers=b,localStorage.setItem("settings"+e.selectedJob,JSON.stringify(S)),t(999)}()},children:"Update"})]}):Object(l.jsx)("h3",{children:" No Job is Selected "})},L=function(e){var t=Object(n.useState)(!1),s=Object(i.a)(t,2),c=(s[0],s[1],Object(n.useState)(1)),a=Object(i.a)(c,2),o=a[0],r=a[1],j=Object(n.useState)(!1),b=Object(i.a)(j,2),u=b[0],d=b[1],h=Object(n.useState)(""),m=Object(i.a)(h,2),f=m[0],x=m[1],S=Object(n.useState)(!0),L=Object(i.a)(S,2),y=L[0],k=L[1],I=Object(n.useState)(""),P=Object(i.a)(I,2),C=P[0],M=P[1],U=Object(n.useState)(""),R=Object(i.a)(U,2),w=R[0],D=(R[1],Object(n.useState)("")),B=Object(i.a)(D,2),F=B[0],E=(B[1],Object(n.useState)(!1)),A=Object(i.a)(E,2),T=A[0],W=(A[1],Object(n.useState)(!0)),H=Object(i.a)(W,2),K=(H[0],H[1],Object(n.useState)("")),_=Object(i.a)(K,2),V=_[0],X=_[1];Object(n.useEffect)((function(){r(1)}),[]);if(console.log("Displaystate: ",o),0===o);else{if(1===o)return console.log("1"),Object(l.jsx)("div",{children:" Hello World "});if(o>=2)return Object(l.jsxs)("div",{className:"FullSiteDisplay",children:[Object(l.jsx)(O,{name:w,setDisplay:r}),2===o?Object(l.jsx)(g,{longMessage:u,setMessageContents:x,setLongMessage:d,displayImageInput:y,setImageURL:X,imageURL:V,setDisplayImageInput:k,messageContents:f}):3===o?Object(l.jsx)(p,{list:C,displayLoaded:T,setDisplayState:r,setList:M,messageList:F}):4===o?Object(l.jsx)("div",{className:"page",children:Object(l.jsxs)("div",{className:"finishBox",children:[Object(l.jsx)("h2",{children:"Done sending messages"}),Object(l.jsx)("button",{onClick:function(){return localStorage.removeItem("messagingList"),void r(1)},children:" Reset "})]})}):5===o?Object(l.jsx)(v,{setDisplayState:r}):6===o?Object(l.jsx)(N,{setDisplayState:r}):7===o?Object(l.jsx)(J,{setDisplayState:r}):Object(l.jsx)("div",{})]})}};var y=function(){return console.log("Hello World"),Object(l.jsx)(L,{})},k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,921)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;s(e),n(e),c(e),a(e),o(e)}))};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),k()}},[[920,1,2]]]);
//# sourceMappingURL=main.e3f68794.chunk.js.map